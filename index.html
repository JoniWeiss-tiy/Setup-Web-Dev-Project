<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sass, Mocha, Webpack, WebDevServer</title>
  </head>
  <body>

    <h1>Set up Development Environment</h1>
    <h2>How to Set Up Webpack</h2>
    <ol>
      <li>Create directory structure</li>
      <ul>
        <li><code>project directory</code></li>
        <li><code>--public</code></li>
        <li><code>----bundle.js</code></li>
        <li><code>--src</code></li>
        <li><code>----scripts</code></li>
        <li><code>------entry.js</code></li>
        <li><code>----styles</code></li>
        <li><code>------main.sass</code></li>
      </ul>
      <li><code>$ npm init</code></li>
      <li><code>$ npm install webpack --save-dev</code></li>
      <li>Create webpack.config.js file and populate it.</li>
      <li>Add entry.js file and add requires to it.</li>
      <li>Install style, sass, and css loaders: <code>$ npm install css-loader style-loader npm-sass sass-loader --save-dev</code></li>
      <li>Run webpack: <code>$ webpack --watch</code></li>
      <li>Install webpack web server: <code>$ npm install webpack-dev-server --save-dev</code></li>
      <li>Open a new terminal window and run the webpack server in that window: <code>$ node_modules/.bin/webpack-dev-server</code></li>
      <li>NOTE: Both terminal windows need to be open, running both webpack --watch AND webpack-dev-server</li>
      <li>In the browser, navigate to: <a href="localhost:8080/webpack-dev-server/" target="_blank">localhost:8080/webpack-dev-server/</a></li>
    </ol>

    <h2>How to Set Up Mocha for TDD</h2>

    <ol>
      <li>Install Mocha in the project root directory: <code>$ npm install mocha --save-dev</code></li>
      <li>Create tests directory (under src)</li>
      <li>Add a tests.js file - as additional features are created, add a file for those tests as feature.tests.js</li>
      <li>Add tests to the tests js and/or feature test js file(s).</li>
      <li>Tests have the following format:
        <pre>
          var assert = require('assert');

          describe('Array', function () {
            describe('indexOf(#)', function() {
              it ('should return -1 when the value is not present', function () {
                assert.equal(-1, [1, 2, 3].indexOf(4));
              });
            });
          });
        </pre>
      </li>
      <li>Run the tests: <code>$ mocha ./src/tests</code></li>
      <li>Add to the package.json file under the scripts entry: <code>"test": "mocha ./src/tests"</code></li>
      <li>Then you can run all the tests with <code>$ npm test</code></li>
      <li>You can run tests individually or in groups with : <code>$ mocha ./src/test</code> specifying the directory and/or filename or use the ones from here: <a href="https://docs.npmjs.com/misc/scripts">npm-scripts</a> </li>
    </ol>

  <script src="./public/bundle.js"></script>
  </body>
</html>
